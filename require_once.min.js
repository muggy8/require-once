!function(a,b){var c={},d=function(a,b){function g(){var b=f.request=new XMLHttpRequest;b.onreadystatechange=function(){if(b.readyState==XMLHttpRequest.DONE)if(b.status>=200&&b.status<300){f.result="success";for(var c=0;c<f.waiters.length;c++)f.waiters[c](b)}else if(b.status>=300&&b.status<400)d=b.getResponseHeader("Location")||a,d!=a?g():(f.attempts++,setTimeout(g,100*f.attempts));else if(f.attempts<5)f.attempts++,setTimeout(g,100*f.attempts);else{for(var c=0;c<f.waiters.length;c++)f.waiters[c](b);f.result="failed"}},b.open("GET",d,!0),b.send()}var d=a,e=c[a];if(e&&void 0!==e.result)b(e.request,e.returnVal);else if(e&&"undefined"===e.result)e.waiters.push(b);else{var f=c[a]={waiters:[b],attempts:1};g()}};if("undefined"!=typeof document&&"undefined"!=typeof XMLHttpRequest){var e=[];document.addEventListener("readystatechange",function(){if("complete"==document.readyState)for(var a=0;a<e.length;a++)e[a]()});var g=[],h=[];XMLHttpRequest.prototype._send=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(){var a=this;g.push(a);a.addEventListener("loadend",function(){h.length&&h[h.length-1]()}),a._send()}}a.requireOnce=a.require_once=function(e,f,i){if(!f)throw"Success callback not defined";i=i||function(){};var j=[],k=0,l=function(){if(h.splice(h.length-1,1),g.reduce(function(a,b){return a&&(b.readyState==XMLHttpRequest.DONE||"complete"==b.readyState)},!0)){j.forEach(function(a,b){var d=e[b].browser||e[b];c[d].returnVal=a.returnVal,a&&a.evaluater&&(c[d].returnVal=a.returnVal=a.evaluater.module.export!=a.evaluater.module.exports?a.evaluater.module.exports:a.evaluater.output)});var d=!0,k=j.map(function(a){return a?a.returnVal:d=!1});d?f.apply(a,k):i.apply(a,k),h.length&&h[h.length-1]()}else h.push(l)},m=function(){if(k==e.length){j.forEach(function(a){a&&void 0===a.returnVal&&a.xhr.getResponseHeader("Content-Type").match(/javascript/i)?a.evaluater=b(a.xhr.responseText):a&&void 0===a.returnVal&&a.xhr&&(a.returnVal=a.xhr.responseText)}),h.push(l);g.reduce(function(a,b){return a&&(b.readyState==XMLHttpRequest.DONE||"complete"==b.readyState)},!0)&&h[h.length-1]()}};e.forEach(function(b,c){var g;"undefined"!=typeof require&&"undefined"==typeof XMLHttpRequest?(g=b.server,j[c]=!!g&&require(g),++k==e.length&&f.apply(a,j)):XMLHttpRequest&&(g=b.browser||b,d(g,function(a,b){a.status>=200&&a.status<300?j[c]={xhr:a,returnVal:b}:j[c]=!1,k++,m()}))})},"undefined"!=typeof module&&(module.exports=a.requireOnce)}(this,function(code){var module={},requireOnce=this.requireOnce,require_once=this.require_once,exporter=module.exports=module.export=function(a){module.exports=a},results=eval(code);return{output:results,module:module}});
